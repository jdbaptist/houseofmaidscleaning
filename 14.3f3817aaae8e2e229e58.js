(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{wKVD:function(e,c,t){"use strict";t.r(c),t.d(c,"CleanerBillingModule",(function(){return w}));var i=t("ofXK"),n=t("tyNb"),o=t("kt0X"),s=t("pOPC"),r=t("KM4D"),l=t("fXoL"),a=t("jhN1"),d=t("3Pt+"),u=t("kmnG");function g(e,c){1&e&&(l.ec(0,"span"),l.Yc(1,"Image is required"),l.dc())}function m(e,c){if(1&e&&(l.ec(0,"mat-error"),l.Wc(1,g,2,0,"span",20),l.dc()),2&e){l.tc();const e=l.Lc(1);l.Mb(1),l.Ac("ngIf",null==e||null==e.controls.captureImage?null:e.controls.captureImage.hasError("required"))}}function h(e,c){1&e&&(l.ec(0,"div",26),l.Yc(1,"Image uploaded! "),l.dc())}function b(e,c){if(1&e){const e=l.fc();l.ec(0,"form",11,12),l.pc("submit",(function(){l.Nc(e);const c=l.Lc(1),t=l.tc().$implicit;return l.tc().submit(t._id,c)})),l.ec(2,"div",13),l.ec(3,"div",14),l.ec(4,"div",15),l.ec(5,"div",16),l.ec(6,"span"),l.Yc(7,"Upload your Current Photo"),l.dc(),l.ec(8,"input",17,18),l.pc("change",(function(c){return l.Nc(e),l.tc(2).onImageChange(c)})),l.dc(),l.ac(10,"img",19),l.dc(),l.dc(),l.Wc(11,m,2,1,"mat-error",20),l.Wc(12,h,2,0,"div",21),l.dc(),l.ec(13,"div",22),l.ec(14,"div",23),l.ec(15,"small"),l.Yc(16,"Start Time"),l.dc(),l.ec(17,"h4"),l.Yc(18),l.uc(19,"date"),l.dc(),l.dc(),l.dc(),l.ec(20,"div",24),l.ec(21,"button",25),l.Yc(22,"Submit"),l.dc(),l.dc(),l.dc(),l.dc()}if(2&e){const e=l.Lc(1),c=l.tc().$implicit,t=l.tc();l.Mb(2),l.Ac("hidden",!t.isShow),l.Mb(9),l.Ac("ngIf",(e.submitted||(null==e.controls.captureImage?null:e.controls.captureImage.touched))&&e.controls.captureImage.invalid),l.Mb(1),l.Ac("ngIf",(e.submitted||(null==e.controls.captureImage?null:e.controls.captureImage.touched))&&e.controls.captureImage.valid),l.Mb(6),l.Zc(l.wc(19,4,c.timeOfService,"shortTime"))}}function f(e,c){if(1&e){const e=l.fc();l.ec(0,"div",4),l.ec(1,"div",5),l.ec(2,"h3"),l.Yc(3),l.ac(4,"br"),l.ec(5,"small"),l.Yc(6),l.dc(),l.dc(),l.ec(7,"div",6),l.ec(8,"input",7),l.pc("change",(function(){l.Nc(e);const t=c.$implicit;return l.tc().billingStart(t._id)})),l.dc(),l.ec(9,"label",8),l.Yc(10,"Off"),l.dc(),l.ec(11,"label",9),l.Yc(12,"On"),l.dc(),l.dc(),l.dc(),l.Wc(13,b,23,7,"form",10),l.dc()}if(2&e){const e=c.$implicit,t=c.index,i=l.tc();l.Mb(3),l.Zc(e.serviceType.service),l.Mb(3),l.cd("",e.firstname," ",e.lastname," | ",e.address," ",e.zipcode,""),l.Mb(2),l.Cc("id","switch-orange_",t,""),l.Ac("disabled",i.checked),l.Mb(1),l.Cc("for","switch-orange_",t,""),l.Mb(2),l.Cc("for","switch-orange_",t,""),l.Mb(2),l.Ac("ngIf",i.billing==e._id)}}const p=[{path:"",component:(()=>{class e{constructor(e,c){this.store=e,this.domSanitizer=c,this.checked=!1,this.isShow=!1,this.onImageChange=e=>{const c=e.target.files;if(c)for(let t=0;t<c.length&&!(c.length>5);t++){const c=new FileReader,t=e.target.files[0];c.onload=e=>{this.fileURL=e.target.result},c.readAsDataURL(t),this.files=t}},this.openFileBrowser=(e,c)=>{document.getElementById(c).click()},this.onFileChange=(e,c)=>{const t=new FileReader;switch(c){case"captureImage":this.selectedProfileImg=e.item(0),t.readAsDataURL(this.selectedProfileImg),t.onload=e=>{this.profileImage=this.domSanitizer.bypassSecurityTrustUrl(t.result.toString()),console.log("Image changed-----",this.profileImage)};break;case"idCard":this.selectedIdCardImg=e.item(0),t.readAsDataURL(this.selectedIdCardImg),t.onload=e=>{this.idCardImage=this.domSanitizer.bypassSecurityTrustUrl(t.result.toString()),console.log("Image changed-----",this.idCardImage)}}}}ngOnInit(){this.store.pipe(Object(o.t)(s.b)).subscribe(e=>{this.workProgress=e,console.log("Billing------------",this.workProgress)})}billingStart(e){console.log("billing ID = ",e),this.isShow=!this.isShow,this.billing=e,this.checked=!0;const c=e;console.log("Billing Started>>>>>>>>>>>",c),this.store.dispatch(Object(r.d)({billingId:c,workStatus:2}))}submit(e,c){const t=c.value;if(c.invalid||""===c.value.captureImage)return void console.log("<<<<<<<<<Form Invalid>>>>>>>>");console.log("Form data--------------",t);const i=e;console.log("File-------",this.files),this.store.dispatch(Object(r.e)({billingId:i,workStatus:3,captureImage:this.files}))}}return e.\u0275fac=function(c){return new(c||e)(l.Zb(o.h),l.Zb(a.b))},e.\u0275cmp=l.Tb({type:e,selectors:[["app-cleaner-billing"]],decls:6,vars:1,consts:[["id","billing-v",1,"tab-pane"],[1,"proHead"],[1,"profileDes","row"],["class","col-md-12",4,"ngFor","ngForOf"],[1,"col-md-12"],[1,"billinghead"],[1,"button-switch"],["type","checkbox",1,"switch","billON",3,"id","disabled","change"],[1,"lbl-off",3,"for"],[1,"lbl-on",3,"for"],["id","billing-form","class","contact_form",3,"submit",4,"ngIf"],["id","billing-form",1,"contact_form",3,"submit"],["billingForm","ngForm"],[1,"billing-details",3,"hidden"],[1,"uploadPayment"],[1,"uploadDiv"],[1,"fileUpload","blue-btn","btn","width100"],["id","captureImage","type","file","accept","image/*","name","captureImage","required","","ngModel","",1,"uploadlogo",3,"change"],["filePicker",""],["src","assets/images/uploadnew.svg","width","20",1,"mr15"],[4,"ngIf"],["class","success",4,"ngIf"],[1,"time_sheet--day"],[1,"mr-5"],[1,"subm"],["type","submit",1,"btn","btn-info","custombtn","blueBtn"],[1,"success"]],template:function(e,c){1&e&&(l.ec(0,"div",0),l.ec(1,"div",1),l.ec(2,"h2"),l.Yc(3,"Check In/Out Job"),l.dc(),l.dc(),l.ec(4,"div",2),l.Wc(5,f,14,10,"div",3),l.dc(),l.dc()),2&e&&(l.Mb(5),l.Ac("ngForOf",c.workProgress))},directives:[i.m,i.n,d.y,d.n,d.o,d.c,d.u,d.m,d.p,u.a],pipes:[i.e],styles:[""]}),e})(),resolve:{data:t("5cmH").a}}];let I=(()=>{class e{}return e.\u0275mod=l.Xb({type:e}),e.\u0275inj=l.Wb({factory:function(c){return new(c||e)},imports:[[n.j.forChild(p)],n.j]}),e})();var v=t("PCNd");let w=(()=>{class e{}return e.\u0275mod=l.Xb({type:e}),e.\u0275inj=l.Wb({factory:function(c){return new(c||e)},imports:[[i.c,v.a,I]]}),e})()}}]);