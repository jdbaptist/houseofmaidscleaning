(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{oJp7:function(t,e,a){"use strict";a.r(e);var i=a("DUip"),n=a("nbAZ"),c=a("Byqp"),r=a("ETwC"),o=a("ea4N"),s=a("AytR"),u=a("y5gy"),d=a("6onV"),l=a("fU6h"),b=Object(d.o)(l.a),f=Object(d.q)(b,(function(t){return t.loading})),p=Object(d.q)(b,(function(t){return t.loaded})),h=Object(d.q)(b,(function(t){return t.error})),m=Object(d.q)(b,l.c.selectAll),g=Object(d.q)(b,l.c.selectEntities),v=a("c59t"),y=a("TYT/"),w=a("eHTH"),S=a("cSbt"),q=a("QJY3"),Z=a("GsDI"),O=a("Wjhp"),H=a("p+mS"),j=a("o5Yc"),A=a("Valr");function C(t,e){1&t&&(y.ac(0,"th",32),y.Hc(1," Question "),y.Zb())}function D(t,e){if(1&t&&(y.ac(0,"td",33),y.Hc(1),y.Zb()),2&t){var a=e.$implicit;y.Hb(1),y.Ic(null==a?null:a.question)}}function k(t,e){1&t&&(y.ac(0,"th",32),y.Hc(1," Answer "),y.Zb())}function Q(t,e){if(1&t&&(y.ac(0,"td",33),y.Hc(1),y.nc(2,"textSlicer"),y.Zb()),2&t){var a=e.$implicit;y.Hb(1),y.Ic(y.oc(2,1,null==a?null:a.answer))}}function F(t,e){1&t&&(y.ac(0,"th",32),y.Hc(1," Active "),y.Zb())}function P(t,e){if(1&t){var a=y.bc();y.ac(0,"td",33),y.ac(1,"mat-slide-toggle",34),y.ic("click",(function(){y.zc(a);var t=e.$implicit;return y.mc().onToggleActiveAction(null==t?null:t._id,null==t?null:t.active)})),y.Zb(),y.Zb()}if(2&t){var i=e.$implicit;y.Hb(1),y.sc("checked",null==i?null:i.active)}}function I(t,e){1&t&&(y.ac(0,"th",32),y.Hc(1," Created At "),y.Zb())}function V(t,e){if(1&t&&(y.ac(0,"td",35),y.Hc(1),y.nc(2,"date"),y.Zb()),2&t){var a=e.$implicit;y.Hb(1),y.Jc(" ",y.pc(2,1,null==a?null:a.createdAt,"medium")," ")}}function G(t,e){1&t&&(y.ac(0,"th",36),y.Hc(1," Actions "),y.Zb())}function U(t,e){if(1&t){var a=y.bc();y.ac(0,"td",37),y.ac(1,"div",38),y.ac(2,"button",39),y.ic("click",(function(){y.zc(a);var t=e.$implicit;return y.mc().onView(null==t?null:t._id)})),y.ac(3,"span",40),y.ac(4,"i",7),y.Hc(5,"visibility"),y.Zb(),y.Zb(),y.Vb(6,"div",41),y.Vb(7,"div",42),y.Zb(),y.ac(8,"button",43),y.ic("click",(function(){y.zc(a);var t=e.$implicit;return y.mc().onUpdate(null==t?null:t._id)})),y.ac(9,"span",40),y.ac(10,"i",7),y.Hc(11,"edit"),y.Zb(),y.Zb(),y.Vb(12,"div",41),y.Vb(13,"div",42),y.Zb(),y.ac(14,"button",44),y.ic("click",(function(){y.zc(a);var t=e.$implicit;return y.mc().onDelete(null==t?null:t._id,null==t?null:t.question)})),y.ac(15,"span",40),y.ac(16,"i",7),y.Hc(17,"delete"),y.Zb(),y.Zb(),y.Vb(18,"div",41),y.Vb(19,"div",42),y.Zb(),y.Zb(),y.Zb()}}function _(t,e){1&t&&y.Vb(0,"tr",45)}function x(t,e){1&t&&y.Vb(0,"tr",46)}var z=function(){function t(t,e,a,i){var n=this;this.router=t,this.store=e,this.route=a,this.dialog=i,this.displayedColumns=["question","answer","active","createdAt","actions"],this.pageSizeOptions=[15,25,50],this.faqs=[],this.onAdd=function(){n.router.navigate(["faq","create"])},this.onView=function(t){n.router.navigate(["faq","view",t])},this.onUpdate=function(t){n.router.navigate(["faq","edit",t])},this.onDelete=function(t,e){n.openDialog(t,e)},this.openDialog=function(t,e){var a=new o.d;a.disableClose=!0,a.autoFocus=!0,a.data={id:t,title:e,type:"FAQ"},n.dialog.open(u.a,a).afterClosed().subscribe((function(e){if(e){var a={id:t};n.store.dispatch(Object(v.e)({id:a.id}))}}))},this.onToggleActiveAction=function(t,e){var a={_id:t,active:!e};n.store.dispatch(Object(v.j)({faq:a,id:t}))},this.applySearch=function(){n.searchValue&&(n.searchKeyword=n.searchValue,n.dataSource.filter=n.searchKeyword.trim().toLowerCase(),n.dataSource.paginator&&n.dataSource.paginator.firstPage(),n.changeQueryParams())},this.onResetFilters=function(){n.searchValue=void 0,n.searchKeyword=void 0,n.dataSource.filter="",n.dataSource.paginator.firstPage(),n.dataSource.sort.sort({id:null,start:"desc",disableClear:!1}),n.router.navigate(["faq"])},this.sortData=function(t){return n.sortField=t.active,n.sortOrder=t.direction,n.changeQueryParams(),t},this.onPageChange=function(t){return n.pageIndex=t.pageIndex,n.pageSize=t.pageSize,n.changeQueryParams(),t},this.changeQueryParams=function(){n.router.navigate(["faq"],{queryParams:{page:n.pageIndex,size:n.pageSize,sort:n.sortField,by:n.sortOrder,search:n.searchKeyword}})},this.ngOnDestroy=function(){n.faqsSubscription&&n.faqsSubscription.unsubscribe(),n.loadingSubscription&&n.loadingSubscription.unsubscribe()},this.dataSource=new r.k(this.faqs)}return t.prototype.ngOnInit=function(){var t=this;this.imgUrl=s.a.imgUrl,this.loadingSubscription=this.store.select(f).subscribe((function(e){t.loading=e})),this.route.queryParamMap.subscribe((function(e){var a,i=e.params;i.hasOwnProperty("page")&&(t.pageIndex=i.page,t.paginator.pageIndex=t.pageIndex),i.hasOwnProperty("size")&&(t.pageSize=i.size,t.paginator.pageSize=t.pageSize),i.hasOwnProperty("search")&&(t.searchKeyword=i.search,t.searchValue=i.search),i.hasOwnProperty("sort")&&(t.sortField=i.sort,t.sortOrder=null===(a=i)||void 0===a?void 0:a.by,t.sort.active=t.sortField,t.sort.direction=t.sortOrder)})),this.faqsSubscription=this.store.select(m).subscribe((function(e){t.faqs=e,t.dataSource=new r.k(t.faqs),t.searchKeyword?(t.dataSource.filter=t.searchKeyword.trim().toLowerCase(),t.dataSource.paginator=t.paginator,t.dataSource.sort=t.sort):(t.dataSource.paginator=t.paginator,t.dataSource.sort=t.sort)}))},t.\u0275fac=function(e){return new(e||t)(y.Ub(i.f),y.Ub(d.h),y.Ub(i.a),y.Ub(o.b))},t.\u0275cmp=y.Ob({type:t,selectors:[["app-faq-list"]],viewQuery:function(t,e){var a;1&t&&(y.Ec(n.a,!0),y.Ec(c.a,!0)),2&t&&(y.wc(a=y.jc())&&(e.paginator=a.first),y.wc(a=y.jc())&&(e.sort=a.first))},decls:46,vars:5,consts:[[1,"main-content","main-panel-new"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-icon-add",3,"click"],[1,"card-title"],[1,"card-body"],[1,"col-md-3","search_box"],[1,"example-full-width"],["matInput","","placeholder","Search...","name","searchValue",3,"ngModel","keyup.enter","ngModelChange"],[1,"col-md-6","search_button_box"],["type","button","title","Search",1,"btn","btn-outline-primary","search_button_button",3,"click"],["type","button","title","Reset",1,"btn","btn-outline-danger","search_button_button",3,"click"],[1,"mat-elevation-z8"],["mat-table","","matSort","",2,"width","100%",3,"dataSource","matSortChange"],["matColumnDef","question"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","answer"],["matColumnDef","active"],["matColumnDef","createdAt"],["mat-cell","","style","min-width: 170px;",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","td-actions",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions","page"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["color","primary",3,"checked","click"],["mat-cell","",2,"min-width","170px"],["mat-header-cell",""],["mat-cell","",1,"td-actions"],[1,"action-col"],["mat-raised-button","","type","button",1,"btn","btn-success","btn-link",3,"click"],[1,"mat-button-wrapper"],["matripple","",1,"mat-button-ripple","mat-ripple"],[1,"mat-button-focus-overlay"],["mat-raised-button","","type","button",1,"btn","btn-warning","btn-link",3,"click"],["mat-raised-button","","type","button",1,"btn","btn-danger","btn-link",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(y.ac(0,"div",0),y.ac(1,"div",1),y.ac(2,"div",2),y.ac(3,"div",3),y.ac(4,"div",4),y.ac(5,"div",5),y.ac(6,"div",6),y.ac(7,"i",7),y.Hc(8,"directions_bus"),y.Zb(),y.Zb(),y.ac(9,"div",8),y.ic("click",(function(){return e.onAdd()})),y.ac(10,"i",7),y.Hc(11,"add"),y.Zb(),y.Zb(),y.ac(12,"h4",9),y.Hc(13," FAQs "),y.Zb(),y.Zb(),y.ac(14,"div",10),y.ac(15,"div",2),y.ac(16,"div",11),y.ac(17,"mat-form-field",12),y.ac(18,"input",13),y.ic("keyup.enter",(function(){return e.applySearch()}))("ngModelChange",(function(t){return e.searchValue=t})),y.Zb(),y.Zb(),y.Zb(),y.ac(19,"div",14),y.ac(20,"button",15),y.ic("click",(function(){return e.applySearch()})),y.ac(21,"mat-icon"),y.Hc(22,"search"),y.Zb(),y.Zb(),y.ac(23,"button",16),y.ic("click",(function(){return e.onResetFilters()})),y.ac(24,"mat-icon"),y.Hc(25,"replay"),y.Zb(),y.Zb(),y.Zb(),y.Zb(),y.ac(26,"div",17),y.ac(27,"table",18),y.ic("matSortChange",(function(t){return e.sortData(t)})),y.Yb(28,19),y.Gc(29,C,2,0,"th",20),y.Gc(30,D,2,1,"td",21),y.Xb(),y.Yb(31,22),y.Gc(32,k,2,0,"th",20),y.Gc(33,Q,3,3,"td",21),y.Xb(),y.Yb(34,23),y.Gc(35,F,2,0,"th",20),y.Gc(36,P,2,1,"td",21),y.Xb(),y.Yb(37,24),y.Gc(38,I,2,0,"th",20),y.Gc(39,V,3,4,"td",25),y.Xb(),y.Yb(40,26),y.Gc(41,G,2,0,"th",27),y.Gc(42,U,20,0,"td",28),y.Xb(),y.Gc(43,_,1,0,"tr",29),y.Gc(44,x,1,0,"tr",30),y.Zb(),y.ac(45,"mat-paginator",31),y.ic("page",(function(t){return e.pageEvent=e.onPageChange(t)})),y.Zb(),y.Zb(),y.Zb(),y.Zb(),y.Zb(),y.Zb(),y.Zb(),y.Zb()),2&t&&(y.Hb(18),y.sc("ngModel",e.searchValue),y.Hb(9),y.sc("dataSource",e.dataSource),y.Hb(16),y.sc("matHeaderRowDef",e.displayedColumns),y.Hb(1),y.sc("matRowDefColumns",e.displayedColumns),y.Hb(1),y.sc("pageSizeOptions",e.pageSizeOptions))},directives:[w.b,S.a,q.b,q.k,q.n,Z.a,r.j,c.a,r.c,r.e,r.b,r.g,r.i,n.a,r.d,c.b,r.a,O.a,H.a,r.f,r.h],pipes:[j.a,A.e],styles:[""]}),t}();function $(t,e){1&t&&(y.ac(0,"button",17),y.Hc(1," Submit "),y.Zb())}function M(t,e){1&t&&(y.ac(0,"button",18),y.Hc(1," Update "),y.Zb())}var R=function(){function t(t,e,a){var i=this;this.route=t,this.store=e,this.router=a,this.loading=!0,this.onSubmit=function(t){if(!t.invalid){var e=t.value;"create"===i.mode?i.store.dispatch(Object(v.a)({faq:e})):"edit"===i.mode&&i.store.dispatch(Object(v.j)({faq:e,id:i.faqId}))}},this.ngOnDestroy=function(){i.loadingSubscription&&i.loadingSubscription.unsubscribe(),i.faqSubscription&&i.faqSubscription.unsubscribe(),i.faqErrorSubscription&&i.faqErrorSubscription.unsubscribe()}}return t.prototype.ngOnInit=function(){var t=this;this.route.url.subscribe((function(e){t.mode=e[0].path})),this.loadingSubscription=this.store.select(f).subscribe((function(e){t.loading=e})),this.faqErrorSubscription=this.store.select(h).subscribe((function(e){if(t.loading=!1,e&&e.hasOwnProperty("type"))for(var a=0,i=e.type;a<i.length;a++)console.log(i[a])})),"view"!==this.mode&&"edit"!==this.mode||this.route.paramMap.subscribe((function(e){var a;e.has("id")&&(t.faqId=e.get("id"),t.faqSubscription=t.store.select((a=t.faqId,Object(d.q)(g,(function(t){return t[a]})))).subscribe((function(e){e?t.faqDetails=e:t.router.navigate(["blog"])})))}))},t.\u0275fac=function(e){return new(e||t)(y.Ub(i.a),y.Ub(d.h),y.Ub(i.f))},t.\u0275cmp=y.Ob({type:t,selectors:[["app-faq-create"]],decls:28,vars:6,consts:[[1,"main-content","main-panel-new"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-title"],[1,"card-body"],[3,"submit"],["faqForm","ngForm"],[1,"mb-3"],["type","text","matInput","","name","question","required","",3,"disabled","ngModel"],["matInput","","name","answer","required","",3,"disabled","ngModel"],["mat-raised-button","","color","primary","type","submit",4,"ngIf"],["type","submit","mat-raised-button","","color","primary",4,"ngIf"],["mat-raised-button","","color","primary","type","submit"],["type","submit","mat-raised-button","","color","primary"]],template:function(t,e){if(1&t){var a=y.bc();y.ac(0,"div",0),y.ac(1,"div",1),y.ac(2,"div",2),y.ac(3,"div",3),y.ac(4,"div",4),y.ac(5,"div",5),y.ac(6,"div",6),y.ac(7,"i",7),y.Hc(8,"directions_bus"),y.Zb(),y.Zb(),y.ac(9,"h4",8),y.Hc(10,"FAQs"),y.Zb(),y.Zb(),y.ac(11,"div",9),y.ac(12,"form",10,11),y.ic("submit",(function(){y.zc(a);var t=y.xc(13);return e.onSubmit(t)})),y.ac(14,"mat-form-field",12),y.ac(15,"mat-label"),y.Hc(16,"Question"),y.Zb(),y.Vb(17,"input",13),y.ac(18,"mat-error"),y.Hc(19,"Question is required"),y.Zb(),y.Zb(),y.ac(20,"mat-form-field",12),y.ac(21,"mat-label"),y.Hc(22,"Answer"),y.Zb(),y.Vb(23,"textarea",14),y.ac(24,"mat-error"),y.Hc(25,"Answer is required"),y.Zb(),y.Zb(),y.Gc(26,$,2,0,"button",15),y.Gc(27,M,2,0,"button",16),y.Zb(),y.Zb(),y.Zb(),y.Zb(),y.Zb(),y.Zb(),y.Zb()}2&t&&(y.Hb(17),y.sc("disabled","view"===e.mode)("ngModel",null==e.faqDetails?null:e.faqDetails.question),y.Hb(6),y.sc("disabled","view"===e.mode)("ngModel",null==e.faqDetails?null:e.faqDetails.answer),y.Hb(3),y.sc("ngIf","create"===e.mode),y.Hb(1),y.sc("ngIf","edit"===e.mode))},directives:[q.s,q.l,q.m,w.b,w.e,S.a,q.b,q.r,q.k,q.n,w.a,A.l,H.a],styles:[".mat-form-field[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]{width:50%}mat-card-title[_ngcontent-%COMP%]{color:#3c4858}.example-card[_ngcontent-%COMP%]{max-width:400px}"]}),t}(),T=a("xMyE"),E=a("VnD/"),Y=a("P6uZ"),J=a("2WpN"),K=function(){function t(t){this.store=t,this.loading=!1}return t.prototype.resolve=function(t,e){var a=this;return this.store.pipe(Object(d.t)(p),Object(T.a)((function(t){if(!t&&!a.loading)return a.loading=!0,a.store.dispatch(Object(v.g)())})),Object(E.a)((function(t){return t})),Object(Y.a)(),Object(J.a)((function(){return a.loading=!1})))},t.\u0275fac=function(e){return new(e||t)(y.ec(d.h))},t.\u0275prov=y.Qb({token:t,factory:t.\u0275fac}),t}(),X=[{path:"",component:z,runGuardsAndResolvers:"paramsOrQueryParamsChange",resolve:{faq:K}},{path:"create",component:R},{path:"view/:id",component:R},{path:"edit/:id",component:R}],B=function(){function t(){}return t.\u0275mod=y.Sb({type:t}),t.\u0275inj=y.Rb({factory:function(e){return new(e||t)},imports:[[i.i.forChild(X)],i.i]}),t}(),L=a("w1ql"),N=a("H+bZ"),W=function(){function t(t){var e=this;this.apiService=t,this.baseUrl="faqs/",this.fetchFAQs=function(){return e.apiService.dataGetApi(e.baseUrl)},this.fetchFAQ=function(t){return e.apiService.dataGetApi(e.baseUrl+t)},this.createFAQ=function(t){return e.apiService.dataPostApi(t,e.baseUrl)},this.deleteFAQ=function(t){return e.apiService.dataDeleteApi(e.baseUrl+t)},this.updateFAQ=function(t,a){return e.apiService.dataPatchApi(t,e.baseUrl+a)}}return t.\u0275fac=function(e){return new(e||t)(y.ec(N.a))},t.\u0275prov=y.Qb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),tt=a("roGP"),et=a("Phjn"),at=a("67Y/"),it=a("G5J1"),nt=function(){function t(t,e,a,i){var n=this;this.action$=t,this.faqService=e,this.helperService=a,this.router=i,this.loadingFAQs$=Object(L.c)((function(){return n.action$.pipe(Object(L.d)(v.g),Object(et.a)((function(t){return n.faqService.fetchFAQs().pipe(Object(at.a)((function(t){return v.f(t.status?{faqs:t.result}:{faqs:[]})})))})))})),this.addFAQ$=Object(L.c)((function(){return n.action$.pipe(Object(L.d)(v.a),Object(et.a)((function(t){return n.faqService.createFAQ(t.faq).pipe(Object(at.a)((function(t){return t.status?(n.helperService.showToast("success","faq addedd successfully"),n.router.navigate(["faq"]),v.c({faq:t.result})):v.b({error:{type:t.error_fields||null,message:t.message}})})))})))})),this.deleteFAQ$=Object(L.c)((function(){return n.action$.pipe(Object(L.d)(v.e),Object(et.a)((function(t){return n.faqService.deleteFAQ(t.id).pipe(Object(at.a)((function(t){return t.status?(n.helperService.showToast("success","faq deleted successfully"),it.a):it.a})))})))}),{dispatch:!1}),this.updateFAQ$=Object(L.c)((function(){return n.action$.pipe(Object(L.d)(v.j),Object(et.a)((function(t){return n.faqService.updateFAQ(t.faq,t.id).pipe(Object(at.a)((function(t){return t.status?(n.helperService.showToast("success","Blog updated successfully"),n.router.navigate(["faq"]),v.l({faq:t.result})):v.k({error:{type:t.error_fields||null,message:t.message}})})))})))}))}return t.\u0275fac=function(e){return new(e||t)(y.ec(L.a),y.ec(W),y.ec(tt.a),y.ec(i.f))},t.\u0275prov=y.Qb({token:t,factory:t.\u0275fac}),t}(),ct=a("8T6J");a.d(e,"FaqModule",(function(){return rt}));var rt=function(){function t(){}return t.\u0275mod=y.Sb({type:t}),t.\u0275inj=y.Rb({factory:function(e){return new(e||t)},providers:[K],imports:[[ct.a,B,L.b.forFeature([nt])]]}),t}()}}]);